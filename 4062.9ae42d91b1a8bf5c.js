"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4062],{4062:(_,d,r)=>{r.r(d),r.d(d,{CuriosityPageModule:()=>R});var u=r(6895),m=r(433),e=r(9928),y=r(7006),g=r(5861),c=r(1027),o=r(1571),f=r(6291),p=r(5033),v=r(5854);const C=["curiosityContent"];function h(i,s){1&i&&(o.TgZ(0,"ion-col",14),o._UZ(1,"app-list-entry-dummy"),o.qZA())}const P=function(){return[]};function S(i,s){1&i&&(o.TgZ(0,"ion-row"),o.YNc(1,h,2,0,"ion-col",11),o.qZA()),2&i&&(o.xp6(1),o.Q6J("ngForOf",o.DdM(1,P).constructor(24)))}function Z(i,s){if(1&i&&(o.TgZ(0,"ion-col",14),o._UZ(1,"app-rover-list-entry",15),o.qZA()),2&i){const n=s.$implicit;o.xp6(1),o.Q6J("marsPhoto",n)}}const I=[{path:"",component:(()=>{class i{constructor(n,t){this.service=n,this.store=t,this.marsPhotos=[],this.availableSols=[]}ionViewDidEnter(){this.content.scrollToPoint(0,this.store.curiosityScrollY,250)}logScrolling(n){this.store.curiosityScrollY=n.detail.currentY}ngOnInit(){var n=this;return(0,g.Z)(function*(){n.availableSols=(yield n.service.getAvailableSols(c.u.CURIOSITY)).sort((t,l)=>l-t),n.loadFirst()})()}loadFirst(n){var t=this;return(0,g.Z)(function*(){try{t.infiniteScroll.disabled=!1}catch{}t.store.curiosityImages=[],t.store.curiosityLastRequestedSolIterator=0,t.store.curiosityImages=yield t.service.getPhotosForSol(c.u.CURIOSITY,t.availableSols[t.store.curiosityLastRequestedSolIterator]),t.store.curiosityLastRequestedSolIterator++,n&&n.target.complete()})()}loadMore(n){var t=this;return(0,g.Z)(function*(){t.store.curiosityImages.push(...yield t.service.getPhotosForSol(c.u.CURIOSITY,t.availableSols[t.store.curiosityLastRequestedSolIterator])),t.store.curiosityLastRequestedSolIterator++,n.target.complete(),t.store.curiosityLastRequestedSolIterator===t.availableSols.length&&(n.target.disabled=!0)})()}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(c.Y),o.Y36(f.p))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-curiosity"]],viewQuery:function(n,t){if(1&n&&(o.Gf(C,5),o.Gf(e.ju,5)),2&n){let l;o.iGM(l=o.CRH())&&(t.content=l.first),o.iGM(l=o.CRH())&&(t.infiniteScroll=l.first)}},decls:21,vars:5,consts:[[3,"translucent"],["slot","start"],["color","primary"],["id","title"],[3,"scrollEvents","fullscreen","ionScroll"],["curiosityContent",""],["slot","fixed",3,"ionRefresh"],["collapse","condense"],["size","large"],["id","container"],[4,"ngIf"],["size","12","size-sm","6","size-md","4","size-xl","3",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","circular","loadingText","Loading more photos..."],["size","12","size-sm","6","size-md","4","size-xl","3"],[3,"marsPhoto"]],template:function(n,t){1&n&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),o._UZ(3,"ion-menu-button",2),o.qZA(),o.TgZ(4,"ion-title",3),o._uU(5,"NASA Images"),o.qZA()()(),o.TgZ(6,"ion-content",4,5),o.NdJ("ionScroll",function(a){return t.logScrolling(a)}),o.TgZ(8,"ion-refresher",6),o.NdJ("ionRefresh",function(a){return t.loadFirst(a)}),o._UZ(9,"ion-refresher-content"),o.qZA(),o.TgZ(10,"ion-header",7)(11,"ion-toolbar")(12,"ion-title",8),o._uU(13,"NASA Images"),o.qZA()()(),o.TgZ(14,"div",9)(15,"ion-grid"),o.YNc(16,S,2,2,"ion-row",10),o.TgZ(17,"ion-row"),o.YNc(18,Z,2,1,"ion-col",11),o.qZA()(),o.TgZ(19,"ion-infinite-scroll",12),o.NdJ("ionInfinite",function(a){return t.loadMore(a)}),o._UZ(20,"ion-infinite-scroll-content",13),o.qZA()()()),2&n&&(o.Q6J("translucent",!0),o.xp6(6),o.Q6J("scrollEvents",!0)("fullscreen",!0),o.xp6(10),o.Q6J("ngIf",0===t.store.curiosityImages.length),o.xp6(2),o.Q6J("ngForOf",t.store.curiosityImages))},dependencies:[u.sg,u.O5,e.Sm,e.wI,e.W2,e.jY,e.Gu,e.ju,e.MB,e.fG,e.nJ,e.Wo,e.Nd,e.sr,e.wd,p.c,v.R],styles:["ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{--color: var(--ion-color-secondary-contrast)}ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--ion-color-secondary-contrast) !important}ion-toolbar[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--color: var(--ion-color-secondary-contrast) !important}ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-header.header-collapse-condense-inactive[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--toolbar-expanded-color) !important}.toolbar-title-large.ios[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{--color: var(--toolbar-expanded-color) !important}"]}),i})()}];let M=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[y.Bz.forChild(I),y.Bz]}),i})();var T=r(3275),O=r(6875);let R=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[u.ez,m.u5,e.Pc,M,T.A,O.R]}),i})()}}]);