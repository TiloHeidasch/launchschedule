"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2444],{2444:(_,v,s)=>{s.r(v),s.d(v,{PerseverancePageModule:()=>I});var g=s(6895),m=s(433),r=s(9928),d=s(7006),u=s(5861),c=s(1027),e=s(1571),P=s(6291),p=s(5033),f=s(5854);const h=["perseveranceContent"];function S(n,i){1&n&&(e.TgZ(0,"ion-col",14),e._UZ(1,"app-list-entry-dummy"),e.qZA())}const y=function(){return[]};function Z(n,i){1&n&&(e.TgZ(0,"ion-row"),e.YNc(1,S,2,0,"ion-col",11),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,y).constructor(24)))}function M(n,i){if(1&n&&(e.TgZ(0,"ion-col",14),e._UZ(1,"app-rover-list-entry",15),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("marsPhoto",t)}}const C=[{path:"",component:(()=>{class n{constructor(t,o){this.service=t,this.store=o,this.marsPhotos=[],this.availableSols=[]}ionViewDidEnter(){this.content.scrollToPoint(0,this.store.perseveranceScrollY,250)}logScrolling(t){this.store.perseveranceScrollY=t.detail.currentY}ngOnInit(){var t=this;return(0,u.Z)(function*(){t.availableSols=(yield t.service.getAvailableSols(c.u.PERSEVERANCE)).sort((o,a)=>a-o),t.loadFirst()})()}loadFirst(t){var o=this;return(0,u.Z)(function*(){try{o.infiniteScroll.disabled=!1}catch{}o.store.perseveranceImages=[],o.store.perseveranceLastRequestedSolIterator=0,o.store.perseveranceImages=yield o.service.getPhotosForSol(c.u.PERSEVERANCE,o.availableSols[o.store.perseveranceLastRequestedSolIterator]),o.store.perseveranceLastRequestedSolIterator++,t&&t.target.complete()})()}loadMore(t){var o=this;return(0,u.Z)(function*(){o.store.perseveranceImages.push(...yield o.service.getPhotosForSol(c.u.PERSEVERANCE,o.availableSols[o.store.perseveranceLastRequestedSolIterator])),o.store.perseveranceLastRequestedSolIterator++,t.target.complete(),o.store.perseveranceLastRequestedSolIterator===o.availableSols.length&&(t.target.disabled=!0)})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.Y),e.Y36(P.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-perseverance"]],viewQuery:function(t,o){if(1&t&&(e.Gf(h,5),e.Gf(r.ju,5)),2&t){let a;e.iGM(a=e.CRH())&&(o.content=a.first),e.iGM(a=e.CRH())&&(o.infiniteScroll=a.first)}},decls:21,vars:5,consts:[[3,"translucent"],["slot","start"],["color","primary"],["id","title"],[3,"scrollEvents","fullscreen","ionScroll"],["perseveranceContent",""],["slot","fixed",3,"ionRefresh"],["collapse","condense"],["size","large"],["id","container"],[4,"ngIf"],["size","12","size-sm","6","size-md","4","size-xl","3",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","circular","loadingText","Loading more photos..."],["size","12","size-sm","6","size-md","4","size-xl","3"],[3,"marsPhoto"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button",2),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5,"NASA Images"),e.qZA()()(),e.TgZ(6,"ion-content",4,5),e.NdJ("ionScroll",function(l){return o.logScrolling(l)}),e.TgZ(8,"ion-refresher",6),e.NdJ("ionRefresh",function(l){return o.loadFirst(l)}),e._UZ(9,"ion-refresher-content"),e.qZA(),e.TgZ(10,"ion-header",7)(11,"ion-toolbar")(12,"ion-title",8),e._uU(13,"NASA Images"),e.qZA()()(),e.TgZ(14,"div",9)(15,"ion-grid"),e.YNc(16,Z,2,2,"ion-row",10),e.TgZ(17,"ion-row"),e.YNc(18,M,2,1,"ion-col",11),e.qZA()(),e.TgZ(19,"ion-infinite-scroll",12),e.NdJ("ionInfinite",function(l){return o.loadMore(l)}),e._UZ(20,"ion-infinite-scroll-content",13),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("scrollEvents",!0)("fullscreen",!0),e.xp6(10),e.Q6J("ngIf",0===o.store.perseveranceImages.length),e.xp6(2),e.Q6J("ngForOf",o.store.perseveranceImages))},dependencies:[g.sg,g.O5,r.Sm,r.wI,r.W2,r.jY,r.Gu,r.ju,r.MB,r.fG,r.nJ,r.Wo,r.Nd,r.sr,r.wd,p.c,f.R],styles:["ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{--color: var(--ion-color-secondary-contrast)}ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--ion-color-secondary-contrast) !important}ion-toolbar[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--color: var(--ion-color-secondary-contrast) !important}ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-header.header-collapse-condense-inactive[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--toolbar-expanded-color) !important}.toolbar-title-large.ios[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{--color: var(--toolbar-expanded-color) !important}"]}),n})()}];let R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(C),d.Bz]}),n})();var T=s(3275),A=s(6875);let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,m.u5,r.Pc,R,T.A,A.R]}),n})()}}]);